let items = document.querySelector('.contenido');//DivPadre, o section donde irá el contenido
let logoPequeEsquina = document.querySelector('.logoPeque');// foto de la esquina
let contenedor = document.querySelector('.contenedor');//contenedor primer div
let copiaContenidoLogo = items.cloneNode(true); //Copiamos el antiguo contenido para mostrarlo en caso del que usuario suba(en este caso el logo)
let itemPrimerTexto;

// Función para detectar el movimiento del scroll
function detectarMovimientoScroll() {

    // Función que se ejecuta cada vez que hay un cambio en el scroll
    window.addEventListener("scroll", function () {
        // Obtenemos la posición actual del scroll
        let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        let windowHeight = window.innerHeight;
        let contentHeight = items.offsetHeight;
        let maxScroll = contentHeight - windowHeight;
        let opacity = 1 - (scrollTop / maxScroll);
        let documentHeight = document.documentElement.scrollHeight;
        let scrollPosition = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
        let scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;

        // Verificamos si la posición actual del scroll es mayor que la anterior
        if (documentHeight - windowHeight === scrollPosition) {

            // console.log("Hacia abajo"); // Scroll hacia abajo

            if (opacity >= 0) {

                items.style.opacity = opacity;

                setTimeout(() => {

                    items.innerHTML = "";
                    items.style.opacity = 1;
                    mostrarOcultarContenido(items);
                    items.style.height="125vh";
                    items.classList.replace("contenido", "contenidoNuevo");

                    console.log(scrollPercent)
                    //itemPrimerTexto = document.querySelector('contenidoNuevo').cloneNode(true)

                }, 200);

              

            }


        } else {
            //console.log("Hacia arriba"); // Scroll hacia arriba

            items.style.opacity = 1;

        }



    });
}

detectarMovimientoScroll();

function mostrarOcultarContenido(divPadre) {

    let div = document.createElement("div");
    div.classList.add("section_contenido", "animacionContenido", "remove");


    let h2 = document.createElement("h2");
    h2.classList.add("textoFrase");
    h2.innerHTML = `Sumérgete en un buen ambiente<br> y desconecta del mundo`;
    h2.style.color = "white";

    div.appendChild(h2);

    divPadre.appendChild(div);

    logoPequeEsquina.style.visibility = "visible";
    logoPequeEsquina.classList.add("animacionContenido");

    setTimeout(() => {
        window.scrollTo(0, document.documentElement.scrollTop/2);
    }, 300);

}

